/*
 * Copyright (C) 2014 Actions Semi. Inc
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License as
 * published by the Free Software Foundation version 2.
 *
 * This program is distributed "as is" WITHOUT ANY WARRANTY of any
 * kind, whether express or implied; without even the implied warranty
 * of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

/dts-v1/;
#include  "ats3605.dtsi"

/ {
	model = "ats3605";
	compatible = "actions,ats3605";

	chosen {
		bootargs="console=ttyS5,115200 earlyprintk no_console_suspend loglevel=7 clk_ignore_unused";
	};

	cpus {
		CPU0: cpu@0 {
			cpuvdd-supply = <&dcdc1>;
		};
	};

	serial2: uart@b0164000 {
		//dmas = <&dma DMA_DRQ_UART2>, <&dma DMA_DRQ_UART2>;
		//dma-names = "tx", "rx";
		status = "okay";
		pinctrl-names = "default";
		//pinctrl-0 = <&serial2_state_default>;
	};

	serial3: uart@b0166000 {
		status = "okay";
	};

	serial5: uart@b016a000 {
		status = "okay";
		//pinctrl-names = "default";
		//pinctrl-0 = <&serial5_state_default>;
	};

	spi0: spi@b0300000 {
		status = "okay";
		pinctrl-names = "default";
		pinctrl-0 = <&spi0_state_default>;
        	dmas = <&dma DMA_DRQ_SPI0>, <&dma DMA_DRQ_SPI0>;
        	dma-names = "tx", "rx";
 		m25p80@0 {
			compatible = "mx25l12805d";
            m25p,fast-read;
			reg = <0>;
			spi-max-frequency = <120000000>;
            spi-tx-bus-width = <1>;
            spi-rx-bus-width = <2>;
            partition@0 {
            	reg = <0x0 0xe0000>;
            	label = "u-boot(896k)";
            };

            partition@e0000 {
            	reg = <0xe0000 0x20000>;
            	label = "misc info(128k)";
            };

            partition@100000 {
            	reg = <0x100000 0xf00000>;
            	label = "others(15360k)";
            };
		};
    };

	i2c2: i2c@b0188000{
		i2c_num = <0>;
		clock-frequency = <400000>;
		status = "okay";
		/* atc2603c (5307) */
		atc260x: atc2603c@65 {
			compatible = "actions,atc2603c";
			reg = <0x65>;
			interrupt-parent = <&sirq>;
			interrupts =< 2 0x4 >;
			interrupt-controller;
			#interrupt-cells = <1>;

			losc_32k_output_enable = <1>;    /* enable/disable output 32.768K clock via I2S_MCLK1 pin */
			losc_32k_output_voltage = <18>;  /* select voltage scale of the 32.768K clock output, 18:1.8v, 31:3.1v */
			board_flag = <1>;
			pm {
				compatible = "actions,atc2603c-pm";
			};

			onoff {
				compatible = "actions,atc2603c-onoff";
			};

			rtc{
				compatible = "actions,atc2603c-rtc";
			};

			atc260x_gpio: atc260x_gpio {
				compatible = "actions,atc2603c-gpio";
				gpio-controller;
				#gpio-cells = <2>;
			};

			atc260x_sgpio: atc260x_sgpio {
				compatible = "actions,atc2603c-sgpio";
				gpio-controller;
				#gpio-cells = <2>;
				interrupt-controller;
				#interrupt-cells = <2>;
			};


			/*the cfg params must be read	in the first installed ko,
			 now snd-soc-atv5302.ko is first installed.
			 1, earphone_detect_level use the third value of earphone_gpios
			 2, commonly, we shouldn't change the value of speaker_gain and earphone_gain*/
			atc260x-hwmon{
				compatible = "actions,atc2603c-hwmon";
			};

		
			dcdc1: dcdc1 {
				compatible = "actions,atc2603c-dcdc1","actions,atc2603c-dcdc";
				regulator-name = "dcdc1";
				regulator-min-microvolt = <700000>;
				regulator-max-microvolt = <1400000>;
				regulator-always-on;
			};

			dcdc2: dcdc2 {
				compatible = "actions,atc2603c-dcdc2","actions,atc2603c-dcdc";
				regulator-name = "dcdc2";
				regulator-min-microvolt = <1400000>;
				regulator-max-microvolt = <2200000>;
				regulator-always-on;
			};

			dcdc3: dcdc3 {
				compatible = "actions,atc2603c-dcdc3","actions,atc2603c-dcdc";
				regulator-name = "dcdc3";
				regulator-min-microvolt = <2600000>;
				regulator-max-microvolt = <3100000>;
			};

			dcdc4: dcdc4 {
				compatible = "actions,atc2603c-dcdc4","actions,atc2603c-dcdc";
				regulator-name = "dcdc4";
				regulator-min-microvolt = <5000000>;
				regulator-max-microvolt = <5000000>;
			};

			dcdc5: dcdc5 {
				status = "disabled";
			};

			ldo1: ldo1{
				compatible = "actions,atc2603c-ldo1","actions,atc2603c-ldo";
				regulator-name = "ldo1";
				regulator-min-microvolt  = <2600000>;
				regulator-max-microvolt = <3300000>;
			};

			ldo2: ldo2{
				compatible = "actions,atc2603c-ldo2","actions,atc2603c-ldo";
				regulator-name = "ldo2";
				regulator-min-microvolt  = <2600000>;
				regulator-max-microvolt = <3300000>;
			};

			ldo3: ldo3{
				compatible = "actions,atc2603c-ldo3","actions,atc2603c-ldo";
				regulator-name = "ldo3";
				regulator-min-microvolt  = <1500000>;
				regulator-max-microvolt = <2000000>;
			};

			ldo4: ldo4{
				compatible = "actions,atc2603c-ldo4","actions,atc2603c-ldo";
				regulator-name = "ldo4";
				regulator-min-microvolt  = <2800000>;
				regulator-max-microvolt = <3500000>;
			};

			ldo5: ldo5{
				compatible = "actions,atc2603c-ldo5","actions,atc2603c-ldo";
				regulator-name = "ldo5";
				regulator-min-microvolt  = <2600000>;
				regulator-max-microvolt = <3300000>;
			};

			ldo6: ldo6{
				compatible = "actions,atc2603c-ldo6","actions,atc2603c-ldo";
				regulator-name = "ldo6";
				regulator-min-microvolt  = <700000>;
				regulator-max-microvolt = <1400000>;
			};

			ldo7: ldo7{
				compatible = "actions,atc2603c-ldo7","actions,atc2603c-ldo";
				regulator-name = "ldo7";
				regulator-min-microvolt  = <1500000>;
				regulator-max-microvolt = <2000000>;
			};

			ldo8: ldo8{
				compatible = "actions,atc2603c-ldo8","actions,atc2603c-ldo";
				regulator-name = "ldo8";
				regulator-min-microvolt  = <2300000>;
				regulator-max-microvolt = <3300000>;
				regulator-boot-on;
			};

			ldo9: ldo9{
				compatible = "actions,atc2603c-ldo9","actions,atc2603c-ldo";
				regulator-name = "ldo9";
				regulator-min-microvolt  = <1000000>;
				regulator-max-microvolt = <1500000>;
			};

			ldo10: ldo10{
				compatible = "actions,atc2603c-ldo10","actions,atc2603c-ldo";
				regulator-name = "ldo10";
				regulator-min-microvolt  = <2300000>;
				regulator-max-microvolt = <3300000>;
			};

			ldo11: ldo11{
				compatible = "actions,atc2603c-ldo11","actions,atc2603c-ldo";
				regulator-name = "ldo11";
				regulator-min-microvolt  = <2600000>;
				regulator-max-microvolt = <3300000>;
			};

			switch1:switch1{
				compatible = "actions,atc2603c-switch1","actions,atc2603c-switch";
				regulator-name = "switch1";
				regulator-min-microvolt  = <3000000>;
				regulator-max-microvolt = <3300000>;
				regulator-always-on;
			};

			switch2:switch2{
				status = "disabled";
			};
		};
	};
	
};
